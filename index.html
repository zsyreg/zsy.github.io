<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>图片切换</title>
	<style>
	*{
		margin: 0;
		padding: 0;
	}
	#wrap{
		position: relative;
		top: 20px;
		left: 500px;
		width: 500px;
		height: 300px;
		overflow: hidden;
	}
	ul{
		top: 0;
		left: 0;
		width: 500px;
		position: absolute;
		list-style: none;
		z-index: 1;
	}
	ul li{

		width: 500px;
	}
	ol{
		z-index: 2;
		position: absolute;
		list-style: none;
		margin-top:250px;
		margin-left:250px;
	}
	ol li{
		display: block;
		width: 35px;
		height: 28px;
		float: left;
		border: 1px solid black;
		margin-left: 8px;
		padding-top: 7px; 
		background: white;	
		margin-bottom: 8px;
	}
	.active{
		background: orange;
	}
	#img1{
		width: 500px;
		height: 300px;
		background: blue;
	}
	#img2{
		width: 500px;
		height: 300px;
		background: yellow;
	}
	#img3{
		width: 500px;
		height: 300px;
		background: red;
	}
	#img4{
		width: 500px;
		height: 300px;
		background: pink;
	}
	#img5{
		width: 500px;
		height: 300px;
		background: #ccc;
	}

	</style>
	<script src="js/move.js"></script>
	<script>
		window.onload = function(){
			var oWrap = document.getElementById('wrap');
			var oUl = document.getElementsByTagName('ul')[0];
			var oOl =  document.getElementsByTagName('ol')[0]
			var aLii = oUl.getElementsByTagName('li');
			var aLic = oOl.getElementsByTagName('li');
			var oH = aLii[0].offsetHeight;
			var num = 0;
			var num2 = 0;
			var timer = null;

			for( let i=0,len=aLic.length; i<len; i++ ){
				aLic[i].index = i;
				aLic[i].onmouseover = function(){
					for( let i=0,len=aLic.length; i<len; i++ ){
						aLic[i].className = '';
					}
					num = this.index;
					num2 = this.index;
					this.className = 'active';
					move(oUl,{top:-this.index*oH});

				}
				
			}




			timer = setInterval(toMove,3000);

			oWrap.onmouseover = function(){
				clearInterval(timer);
			}
			oWrap.onmouseout = function(){
				timer = setInterval(toMove,3000);
			}

			function toMove(){
				if(num == 0){
					aLii[0].style.position = 'static';
					oUl.style.top = 0;
					num2 = 0;
				}
				if(num == aLic.length-1){
					num = 0;
					aLii[0].style.position = 'relative';
					aLii[0].style.top = aLii.length*oH+'px';
				}else{
					num++;
				}
				num2++;
				for( let i=0,len=aLic.length; i<len; i++ ){
						aLic[i].className = '';
					}
					aLic[num].className = 'active';
				move(oUl,{top:-num2*oH});
			}
		}
	</script>

</head>
<body>
	<div id="wrap">
		<ul>
			<li><img id="img1" /></li>
			<li><img id="img2"/></li>
			<li><img id="img3"/></li>
			<li><img id="img4"/></li>
			<li><img id="img5"/></li>
		</ul>
		<ol>
			<li class="active"><center>1</center></li>
			<li><center>2</center></li>
			<li><center>3</center></li>
			<li><center>4</center></li>
			<li><center>5</center></li>
		</ol>
	</div>
</body>
</html>